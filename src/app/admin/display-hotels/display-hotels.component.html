<app-header *ngIf="token != null"></app-header>
<div class="container-fluid">
  <div class="row content">
    <app-left-panel *ngIf="token != null"></app-left-panel>
    <div class="col-sm-9">
      <h1>Hotels</h1>

      <div class="row" style="height: 100px">
        <div class="col-md-6">
          <table>
            <tr>
              <td>
                <select #pageSize class="form-control" (change)="getHotelData(1)" style="width: 65px; height: 38px" >
                  <option value="3">3</option>
                  <option value="5">5</option>
                  <option value="10">10</option>
                  <option value="15">15</option>
                </select>
              </td>
              <td>
                <b style="margin-left: 15px">Row per page</b>
              </td>
            </tr>
          </table>
        </div>
        <div class="col-md-3">
          <angular2-multiselect [data]="dropdownList" [(ngModel)]="selectedItems"
                                [settings]="dropdownSettings"
                                (onSelect)="onItemSelect($event)"
                                (onDeSelect)="OnItemDeSelect($event)"
                                (onSelectAll)="onSelectAll($event)"
                                (onDeSelectAll)="onDeSelectAll($event)">
          </angular2-multiselect>
        </div>
        <div class="col-md-3">
          <input type="text" name="search" placeholder="Search" class="form-control" [(ngModel)]="searchText" style="height: 42px;" >
        </div>
      </div>

      <div class="row" style="margin-top: 25px">
        <div class="col-md-12">
          <table class="table table-striped table-responsive" *ngIf="hotelsData.length >= 1 ">
            <thead>
            <tr>
              <th>Hotel Name
                <span class="glyphicon sort-icon" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}" (click)="click('hotelName')"></span>
              </th>
              <th>Address
                <span class="glyphicon sort-icon" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}" (click)="click('hotelAdd')"></span>
              </th>
              <th>Contact no
                <span class="glyphicon sort-icon" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}" (click)="click('contactNo')"></span>
              </th>
              <th *ngIf="hideState">State
                <span class="glyphicon sort-icon" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}" (click)="click('state')"></span>
              </th>
              <th *ngIf="hideCity">City
                <span class="glyphicon sort-icon" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}" (click)="click('city')"></span>
              </th>
              <th *ngIf="hideType">Hotel Type
                <span class="glyphicon sort-icon" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}" (click)="click('hotelType')"></span>
              </th>
              <th *ngIf="hideTotal">Total Room
                <span class="glyphicon sort-icon" [ngClass]="{'glyphicon-chevron-up':reverse,'glyphicon-chevron-down':!reverse}" (click)="click('totalNoRoom')"></span>
              </th>
              <th *ngIf="hideView">View Images</th>
              <th *ngIf="hideDelete">Delete</th>
              <th *ngIf="hideRoom">Add Room</th>
            </tr>
            </thead>
            <tbody>
            <tr >
              <div *ngIf="(hotelsData | filter:searchText).length===0">
                Records No Found
              </div>
            </tr>
            <tr  *ngFor="let hotel of hotelsData | filter: searchText">
              <td >{{hotel.hotelName}}</td>
              <td >{{hotel.hotelAdd}}</td>
              <td >{{hotel.contactNo}}</td>
              <td *ngIf="hideState">{{hotel.state}}</td>
              <td *ngIf="hideCity">{{hotel.city}}</td>
              <td *ngIf="hideType">{{hotel.hotelType}}</td>
              <td *ngIf="hideTotal">{{hotel.totalNoRoom}}</td>
              <td *ngIf="hideView"><button type="button" class="btn btn-primary" (click)="displayHotelImages(hotel.hotelId)">View Images</button></td>
              <td *ngIf="hideDelete"><button type="button" class="btn btn-danger" (click)="delete(hotel.hotelId)"><span class="glyphicon glyphicon-trash"></span>
              </button></td>
              <td *ngIf="hideRoom"><button type="button" class="btn btn-primary" (click)="addRoomDialog(hotel.hotelId, hotel.hotelName)">Add Room Detail</button></td>
            </tr>
            </tbody>
            <br>
            <!--<div>-->
            <!--<button type="button" *ngFor="let btn of totalPage" (click)="getHotelData(btn+1)" value="{{btn+1}}">{{btn+1}}</button>-->
            <!--</div>-->
          </table>
          <nav aria-label="Page navigation example">
            <ul class="pagination">
              <li class="page-item" [ngClass]="{'disabled':page <= 1}">
                <a class="page-link" aria-label="Previous" tabindex="-1" (click)="getHotelData(page-1)">
                  <span aria-hidden="true">&laquo;</span>
                  <span class="sr-only">Previous</span>
                </a>
              </li>
              <li class="page-item"><a class="page-link" *ngFor="let btn of totalPage" (click)="getHotelData(btn+1)">{{btn+1}}</a></li>
              <li class="page-item" [ngClass]="{'disabled':page >= totalPage.length}" >
                <a class="page-link" aria-label="Next" (click)="getHotelData(page+1)" >
                  <span aria-hidden="true">&raquo;</span>
                  <span class="sr-only">Next</span>
                </a>
              </li>
            </ul>
          </nav>
        </div>
      </div>
    </div>
  </div>
</div>








